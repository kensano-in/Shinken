<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>SHINKEN â€” Private Membership</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
html,body{
margin:0;
background:#02030a;
font-family:Inter,sans-serif;
color:#e8e5de;
overflow:hidden;
}

canvas{position:fixed;inset:0;z-index:-1}

.wrap{
position:absolute;
top:50%;left:50%;
transform:translate(-50%,-50%);
width:92%;
max-width:470px;
}

.card{
background:rgba(12,14,20,.65);
backdrop-filter:blur(20px);
border:1px solid rgba(255,255,255,.08);
border-radius:24px;
padding:40px;
box-shadow:0 40px 120px rgba(0,0,0,.9);
text-align:center;
}

.logo{
font-family:"Playfair Display";
font-size:46px;
letter-spacing:10px;
margin-bottom:30px;
background:linear-gradient(90deg,#fff,#d_attach,#fff);
-webkit-background-clip:text;
color:transparent;
}

input{
width:100%;
padding:14px;
border-radius:12px;
border:1px solid rgba(255,255,255,.1);
background:rgba(255,255,255,.04);
color:white;
margin-bottom:14px;
}

button{
width:100%;
padding:14px;
border:none;
border-radius:12px;
background:linear-gradient(90deg,#e6d8b6,#bfa979);
font-weight:600;
cursor:pointer;
margin-bottom:10px;
}

.msg{
font-size:13px;
opacity:.8;
margin-top:10px;
min-height:20px;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<div class="wrap">
<div class="card">

<div class="logo">SHINKEN</div>

<input id="email" placeholder="Enter your Email">
<button onclick="requestAccess()">Request Private Access</button>

<input id="code" placeholder="Membership Code">
<button onclick="verify()">Verify Membership Code</button>

<div id="status" class="msg"></div>

</div>
</div>

<script>

/* ---------------- SETTINGS ---------------- */

const allowedDomains = [
"gmail.com","hotmail.com","outlook.com","yahoo.com",
"proton.me","icloud.com","aol.com","gmx.com","zoho.com"
];

const tempMailDomains = [
"mailinator.com","10minutemail.com","tempmail.com",
"guerrillamail.com","trashmail.com","yopmail.com",
"maildrop.cc","getnada.com","fakeinbox.com",
"disposablemail.com","temp-mail.org","spamgourmet.com"
];

/* ---------------- FUNCTIONS ---------------- */

const s = document.getElementById("status");

function validEmail(email){
return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function domainOf(email){
return email.split("@")[1]?.toLowerCase();
}

async function requestAccess(){

const email = document.getElementById("email").value.trim();

if(!validEmail(email)){
s.innerText="âŒ Invalid email format.";
return;
}

const d = domainOf(email);

if(tempMailDomains.includes(d)){
s.innerText="âŒ Temp-mail blocked.";
return;
}

if(!allowedDomains.includes(d)){
s.innerText="âŒ Only gmail / yahoo / proton / outlook allowed.";
return;
}

try{
await fetch("/api/request",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({email})
});

s.innerText="âœ” Request submitted. Check your email soon.";
}catch{
s.innerText="âš  Server error.";
}
}

async function verify(){

const email=document.getElementById("email").value;
const code=document.getElementById("code").value;

const r=await fetch("/api/verify",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({email,code})
});

const t=await r.text();

if(t==="OK"){
s.innerText="ðŸ‘‘ Welcome to SHINKEN private network.";
}else{
s.innerText="âŒ Wrong membership code.";
}
}

/* ---------------- PARTICLES ---------------- */

const c=document.getElementById("bg");
const x=c.getContext("2d");
c.width=innerWidth;
c.height=innerHeight;

let p=[...Array(70)].map(()=>({
x:Math.random()*c.width,
y:Math.random()*c.height,
vx:(Math.random()-.5)*.3,
vy:(Math.random()-.5)*.3
}));

function loop(){
x.clearRect(0,0,c.width,c.height);
p.forEach(a=>{
a.x+=a.vx;
a.y+=a.vy;
if(a.x<0||a.x>c.width)a.vx*=-1;
if(a.y<0||a.y>c.height)a.vy*=-1;
x.fillStyle="rgba(255,255,255,.2)";
x.fillRect(a.x,a.y,1,1);
});
requestAnimationFrame(loop);
}
loop();

</script>
</body>
</html>
